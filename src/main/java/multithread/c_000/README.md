synchronized 底层实现

+ JDK早期的重量级锁 -- os

+ 后来经过改进

+ 有了锁升级的概念

```synchronized(lock)```

1 markword 记录这个线程的ID， 自认为不会有线程来竞争锁 ----> 偏向锁
2 如果又线程来竞争锁               -->升级为        ----> 自旋锁
3 自旋10次以后，如果还未获得锁      --->升级为       ----> OS

> 执行时间短，线程数少，用自旋锁

> 执行时间长，线程数多，用系统锁
